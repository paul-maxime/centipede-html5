!function t(e,r,i){function n(o,s){if(!r[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=r[o]={exports:{}};e[o][0].call(l.exports,function(t){var r=e[o][1][t];return n(r?r:t)},l,l.exports,t,e,r,i)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),u=function t(e,r,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},l=t("./transformable"),c=i(l),h=function(t){function e(){n(this,e);var t=a(this,Object.getPrototypeOf(e).call(this));return t.viewProjectionMatrix=mat4.create(),t.projectionMatrix=mat4.create(),t.viewMatrix=mat4.create(),t}return o(e,t),s(e,[{key:"setOrthographicProjection",value:function(t,e,r,i){mat4.ortho(this.projectionMatrix,t,e,i,r,-100,100),this.updateViewProjectionMatrix()}},{key:"updateTransformationMatrix",value:function(){u(Object.getPrototypeOf(e.prototype),"updateTransformationMatrix",this).call(this),mat4.invert(this.viewMatrix,this.transformationMatrix),this.updateViewProjectionMatrix()}},{key:"updateViewProjectionMatrix",value:function(){mat4.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix)}}]),e}(c.default);r.default=h},{"./transformable":16}],2:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),this.lastUpdate=window.performance.now(),this.deltaTime=0}return n(t,[{key:"update",value:function(){var t=window.performance.now(),e=t-this.lastUpdate;return this.lastUpdate=t,this.deltaTime=e/1e3,this.deltaTime}}]),t}();r.default=a},{}],3:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(e){i(this,t),this.gl=e,this.buffer=this.gl.createBuffer()}return n(t,[{key:"bind",value:function(){this.gl.boundBuffer!==this&&(this.gl.boundBuffer=this,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer))}},{key:"setFloat32Array",value:function(t){this.bind(),this.gl.bufferData(this.gl.ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}}]),t}();r.default=a},{}],4:[function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=t("./glbuffer"),s=i(o),u=t("./camera"),l=i(u),c=t("./sprite"),h=(i(c),t("./texture")),f=i(h),v=t("./spritebatch"),d=i(v),y=function(){function t(){n(this,t),this.canvas=null,this.gl=null,this.shaderProgram=null,this.camera=new l.default,this.vertexPositionAttribute=null,this.vertexPositionBuffer=null,this.vertexColorAttribute=null,this.vertexColorBuffer=null,this.textureCoordinatesAttribute=null,this.textureCoordinatesBuffer=null,this.viewProjectionMatrixUniform=null,this.viewProjectionMatrix=mat4.create(),this.whitePixelTexture=null,this.defaultSpriteBatch=null}return a(t,[{key:"initialize",value:function(t){return!(!this.initializeGl(t)||!this.initializeShaders())&&(this.whitePixelTexture=new f.default(this.gl),this.whitePixelTexture.loadWhitePixel(),this.vertexPositionBuffer=new s.default(this.gl),this.vertexColorBuffer=new s.default(this.gl),this.textureCoordinatesBuffer=new s.default(this.gl),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.camera.setOrthographicProjection(0,t.width,0,t.height),this.camera.setOrigin(t.width/2,t.height/2),this.defaultSpriteBatch=new d.default(this.gl,256),!0)}},{key:"setViewport",value:function(t,e,r,i){this.gl.viewport(t,e,r,i)}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},{key:"createTexture",value:function(t){var e=new f.default(this.gl),r=new Image,i=this;return r.onload=function(){e.loadFromImage(r),i.boundTexture=e},r.src=t,e}},{key:"initializeGl",value:function(t){this.canvas=t,this.gl=null;try{this.gl=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(t){this.gl=null}return!!this.gl||(console.error("Unable to initialize WebGL. Your browser may not support it."),!1)}},{key:"initializeShaders",value:function(){var t=this.createShader(this.gl.VERTEX_SHADER,"attribute vec3 a_vertexPosition;attribute vec4 a_vertexColor;attribute vec2 a_textureCoordinates;uniform mat4 u_viewProjectionMatrix;varying highp vec2 v_textureCoordinates;varying lowp vec4 v_color;void main(void) {\tgl_Position = u_viewProjectionMatrix * vec4(a_vertexPosition, 1.0);\tv_color = a_vertexColor;\tv_textureCoordinates = a_textureCoordinates;}"),e=this.createShader(this.gl.FRAGMENT_SHADER,"varying highp vec2 v_textureCoordinates;varying lowp vec4 v_color;uniform sampler2D u_sampler;void main(void) {\tgl_FragColor = texture2D(u_sampler, v_textureCoordinates) * v_color;}");return this.shaderProgram=this.gl.createProgram(),this.gl.attachShader(this.shaderProgram,t),this.gl.attachShader(this.shaderProgram,e),this.gl.linkProgram(this.shaderProgram),this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS)?(this.gl.useProgram(this.shaderProgram),this.vertexPositionAttribute=this.gl.getAttribLocation(this.shaderProgram,"a_vertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute),this.vertexColorAttribute=this.gl.getAttribLocation(this.shaderProgram,"a_vertexColor"),this.gl.enableVertexAttribArray(this.vertexColorAttribute),this.textureCoordinatesAttribute=this.gl.getAttribLocation(this.shaderProgram,"a_textureCoordinates"),this.gl.enableVertexAttribArray(this.textureCoordinatesAttribute),this.viewProjectionMatrixUniform=this.gl.getUniformLocation(this.shaderProgram,"u_viewProjectionMatrix"),!0):(console.error("Unable to initialize the shader program: "+gl.getProgramInfoLog(shader)),!1)}},{key:"createShader",value:function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.error("An error occurred compiling the shaders: "+this.gl.getShaderInfoLog(r)),null)}},{key:"bindTexture",value:function(t){null===t&&(t=this.whitePixelTexture),t.initialized&&t.bind()}},{key:"draw",value:function(t){this.defaultSpriteBatch.append(t),this.defaultSpriteBatch.size===this.defaultSpriteBatch.capacity&&this.display()}},{key:"display",value:function(){this.defaultSpriteBatch.draw(this)}}]),t}();r.default=y},{"./camera":1,"./glbuffer":3,"./sprite":11,"./spritebatch":12,"./texture":15}],5:[function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=t("./glbuffer"),a=i(n),o=t("./camera"),s=i(o),u=t("./clock"),l=i(u),c=t("./graphics"),h=i(c),f=t("./input"),v=i(f),d=t("./keys"),y=i(d),p=t("./musicplayer"),g=i(p),x=t("./soundplayer"),b=i(x),w=t("./sprite"),m=i(w),A=t("./spritebatch"),P=i(A),T=t("./spritesheet"),_=i(T),E=t("./storage"),O=i(E),k=t("./texture"),M=i(k),j=t("./transformable"),S=i(j);window.Yaje={VERSION:"0.3.0"},window.Yaje.Buffer=a.default,window.Yaje.Camera=s.default,window.Yaje.Clock=l.default,window.Yaje.Graphics=h.default,window.Yaje.Input=v.default,window.Yaje.Keys=y.default,window.Yaje.MusicPlayer=g.default,window.Yaje.SoundPlayer=b.default,window.Yaje.Sprite=m.default,window.Yaje.SpriteBatch=P.default,window.Yaje.SpriteSheet=_.default,window.Yaje.Storage=O.default,window.Yaje.Texture=M.default,window.Yaje.Transformable=S.default},{"./camera":1,"./clock":2,"./glbuffer":3,"./graphics":4,"./input":6,"./keys":7,"./musicplayer":8,"./soundplayer":10,"./sprite":11,"./spritebatch":12,"./spritesheet":13,"./storage":14,"./texture":15,"./transformable":16}],6:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(e,r){var n=this;i(this,t),this.pressedKeys={},this.framePressedKeys={},this.previousPressedKeys={},e.addEventListener("keydown",function(t){n.pressedKeys[t.keyCode]=!0}),e.addEventListener("keyup",function(t){n.pressedKeys[t.keyCode]=!1}),e.addEventListener("blur",function(t){n.pressedKeys={}}),r.oncontextmenu=function(t){t.preventDefault()}}return n(t,[{key:"update",value:function(){for(var t in this.framePressedKeys)this.previousPressedKeys[t]=this.framePressedKeys[t];for(var t in this.pressedKeys)this.framePressedKeys[t]=this.pressedKeys[t]}},{key:"wasKeyPressed",value:function(t){return this.framePressedKeys[t]&&!this.previousPressedKeys[t]}},{key:"wasKeyReleased",value:function(t){return!this.framePressedKeys[t]&&this.previousPressedKeys[t]}},{key:"isKeyDown",value:function(t){return this.pressedKeys[t]===!0}}]),t}();r.default=a},{}],7:[function(t,e,r){"use strict";var i=Object.freeze({BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,INSERT:45,DELETE:46,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90});e.exports=i},{}],8:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),this.musics={},this.currentMusic=null}return n(t,[{key:"register",value:function(t,e){this.musics[t]=new Audio(e)}},{key:"play",value:function(t){var e=this.musics[t];this.currentMusic!=e&&(null!=this.currentMusic&&(this.currentMusic.pause(),this.currentMusic.currentTime=0),this.currentMusic=e,null!=e&&(e.play(),e.loop=!0))}},{key:"pause",value:function(){null!=this.currentMusic&&this.currentMusic.pause()}},{key:"resume",value:function(){null!=this.currentMusic&&this.currentMusic.play()}},{key:"stop",value:function(){this.play(null)}}]),t}();r.default=a},{}],9:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(e,r){i(this,t),this.audios=[];for(var n=0;n<r;++n){var a=new Audio(e);this.audios.push(a)}}return n(t,[{key:"play",value:function(){for(var t=0;t<this.audios.length;++t)if(this.audios[t].paused){this.audios[t].play();break}}}]),t}();r.default=a},{}],10:[function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=t("./sound"),s=i(o),u=function(){function t(){n(this,t),this.sounds={},this.isMuted=!1}return a(t,[{key:"register",value:function(t,e,r){r=void 0!==r?r:1,this.sounds[t]=new s.default(e,r)}},{key:"play",value:function(t){this.isMuted||this.sounds[t].play()}}]),t}();r.default=u},{"./sound":9}],11:[function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),u=function t(e,r,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},l=t("./transformable"),c=i(l),h=function(t){function e(t,r,i){n(this,e);var o=a(this,Object.getPrototypeOf(e).call(this));return o.width=t,o.height=r,o.texture=i,o.textureStartX=0,o.textureStartY=0,o.textureEndX=1,o.textureEndY=1,o.color=vec4.create(),o.setColor(1,1,1,1),o.vertices=[vec3.create(),vec3.create(),vec3.create(),vec3.create()],o.areVerticesDirty=!0,o.setOrigin(t/2,r/2),o}return o(e,t),s(e,[{key:"setTextureCoordinates",value:function(t,e,r,i){this.textureStartX=t,this.textureStartY=e,this.textureEndX=r,this.textureEndY=i}},{key:"setColor",value:function(t,e,r,i){this.color[0]=t,this.color[1]=e,this.color[2]=r,this.color[3]=i}},{key:"updateTransformationMatrix",value:function(){u(Object.getPrototypeOf(e.prototype),"updateTransformationMatrix",this).call(this),this.areVerticesDirty=!0}},{key:"updateVertices",value:function(){vec3.set(this.vertices[0],0,0,0),vec3.set(this.vertices[1],0,this.height,0),vec3.set(this.vertices[2],this.width,0,0),vec3.set(this.vertices[3],this.width,this.height,0);for(var t=0;t<4;++t)vec3.transformMat4(this.vertices[t],this.vertices[t],this.transformationMatrix);this.areVerticesDirty=!1}}]),e}(c.default);r.default=h},{"./transformable":16}],12:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(e,r){i(this,t),this.gl=e,this.capacity=r,this.vertexArray=new Float32Array(6*r*9),this.positionOffset=0,this.colorOffset=6*this.capacity*3,this.textureOffset=6*this.capacity*7,this.size=0}return n(t,[{key:"reset",value:function(){this.size=0}},{key:"append",value:function(t){t.areVerticesDirty&&t.updateVertices(),this.texture=t.texture;var e=this.positionOffset+6*this.size*3;this.vertexArray[e++]=t.vertices[0][0],this.vertexArray[e++]=t.vertices[0][1],this.vertexArray[e++]=0,this.vertexArray[e++]=t.vertices[1][0],this.vertexArray[e++]=t.vertices[1][1],this.vertexArray[e++]=0,this.vertexArray[e++]=t.vertices[2][0],this.vertexArray[e++]=t.vertices[2][1],this.vertexArray[e++]=0,this.vertexArray[e++]=t.vertices[2][0],this.vertexArray[e++]=t.vertices[2][1],this.vertexArray[e++]=0,this.vertexArray[e++]=t.vertices[3][0],this.vertexArray[e++]=t.vertices[3][1],this.vertexArray[e++]=0,this.vertexArray[e++]=t.vertices[1][0],this.vertexArray[e++]=t.vertices[1][1],this.vertexArray[e]=0,e=this.colorOffset+6*this.size*4,this.vertexArray[e++]=t.color[0],this.vertexArray[e++]=t.color[1],this.vertexArray[e++]=t.color[2],this.vertexArray[e++]=t.color[3],this.vertexArray[e++]=t.color[0],this.vertexArray[e++]=t.color[1],this.vertexArray[e++]=t.color[2],this.vertexArray[e++]=t.color[3],this.vertexArray[e++]=t.color[0],this.vertexArray[e++]=t.color[1],this.vertexArray[e++]=t.color[2],this.vertexArray[e++]=t.color[3],this.vertexArray[e++]=t.color[0],this.vertexArray[e++]=t.color[1],this.vertexArray[e++]=t.color[2],this.vertexArray[e++]=t.color[3],this.vertexArray[e++]=t.color[0],this.vertexArray[e++]=t.color[1],this.vertexArray[e++]=t.color[2],this.vertexArray[e++]=t.color[3],this.vertexArray[e++]=t.color[0],this.vertexArray[e++]=t.color[1],this.vertexArray[e++]=t.color[2],this.vertexArray[e]=t.color[3],e=this.textureOffset+6*this.size*2,this.vertexArray[e++]=t.textureStartX,this.vertexArray[e++]=t.textureStartY,this.vertexArray[e++]=t.textureStartX,this.vertexArray[e++]=t.textureEndY,this.vertexArray[e++]=t.textureEndX,this.vertexArray[e++]=t.textureStartY,this.vertexArray[e++]=t.textureEndX,this.vertexArray[e++]=t.textureStartY,this.vertexArray[e++]=t.textureEndX,this.vertexArray[e++]=t.textureEndY,this.vertexArray[e++]=t.textureStartX,this.vertexArray[e]=t.textureEndY,this.size++}},{key:"draw",value:function(t){0!=this.size&&(t.bindTexture(this.texture),t.vertexPositionBuffer.setFloat32Array(this.vertexArray),t.currentBatch!==this&&(t.currentBatch=this,this.gl.vertexAttribPointer(t.vertexPositionAttribute,3,this.gl.FLOAT,!1,0,4*this.positionOffset),this.gl.vertexAttribPointer(t.vertexColorAttribute,4,this.gl.FLOAT,!1,0,4*this.colorOffset),this.gl.vertexAttribPointer(t.textureCoordinatesAttribute,2,this.gl.FLOAT,!1,0,4*this.textureOffset)),this.gl.uniformMatrix4fv(t.viewProjectionMatrixUniform,!1,t.camera.viewProjectionMatrix),t.gl.drawArrays(this.gl.TRIANGLES,0,6*this.size),this.reset())}}]),t}();r.default=a},{}],13:[function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=t("./sprite"),s=i(o),u=function(){function t(e,r,i){n(this,t),this.texture=e,this.width=r,this.height=i,this.spriteCoordinates={}}return a(t,[{key:"register",value:function(t,e,r,i,n){this.spriteCoordinates[t]={x:e,y:r,width:i,height:n}}},{key:"registerMany",value:function(t){for(var e in t){var r=t[e];this.register(e,r[0],r[1],r[2],r[3])}}},{key:"createSprite",value:function(t){var e=this.spriteCoordinates[t],r=new s.default(e.width,e.height,this.texture);return this.setSpriteTextureFromCoordinates(r,e),r}},{key:"setSpriteTexture",value:function(t,e){var r=this.spriteCoordinates[e];this.setSpriteTextureFromCoordinates(t,r)}},{key:"setSpriteTextureFromCoordinates",value:function(t,e){t.setTextureCoordinates(e.x/this.width,e.y/this.height,(e.x+e.width)/this.width,(e.y+e.height)/this.height)}}]),t}();r.default=u},{"./sprite":11}],14:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(e){i(this,t),this.keyname=e,this.load()}return n(t,[{key:"load",value:function(){var t=localStorage.getItem(this.keyname);if(t){var e=JSON.parse(t);for(var r in e)this[r]=e[r]}}},{key:"save",value:function(){var t=JSON.stringify(this);localStorage.setItem(this.keyname,t)}}]),t}();r.default=a},{}],15:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(e){i(this,t),this.gl=e,this.texture=this.gl.createTexture(),this.initialized=!1,this.width=0,this.height=0}return n(t,[{key:"bind",value:function(){this.gl.boundTexture!==this&&(this.gl.boundTexture=this,this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture))}},{key:"loadWhitePixel",value:function(){this.bind(),this.initialized=!0;var t=new Uint8Array([255,255,255,255]);this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.width=1,this.height=1}},{key:"loadFromImage",value:function(t){this.bind(),this.initialized=!0,this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.width=t.width,this.height=t.height}}]),t}();r.default=a},{}],16:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),this.transformationMatrix=mat4.create(),this.position=vec3.create(),this.positionRounded=vec3.create(),this.rotation=quat.create(),this.scale=vec3.create(),this.origin=vec3.create(),this.scale[0]=1,this.scale[1]=1,this.scale[2]=1,this.origin[0]=0,this.origin[1]=0}return n(t,[{key:"setSize",value:function(t,e){this.width=t,this.height=e}},{key:"setPosition",value:function(t,e){this.position[0]=t,this.position[1]=e,vec3.round(this.positionRounded,this.position),this.updateTransformationMatrix()}},{key:"move",value:function(t,e){this.position[0]+=t,this.position[1]+=e,vec3.round(this.positionRounded,this.position),this.updateTransformationMatrix()}},{key:"setRotation",value:function(t){quat.identity(this.rotation),this.rotate(t)}},{key:"rotate",value:function(t){quat.rotateZ(this.rotation,this.rotation,t*Math.PI/180),this.updateTransformationMatrix()}},{key:"setScale",value:function(t,e){this.scale[0]=t,this.scale[1]=e,this.updateTransformationMatrix()}},{key:"setOrigin",value:function(t,e){this.origin[0]=t,this.origin[1]=e,this.updateTransformationMatrix()}},{key:"updateTransformationMatrix",value:function(){mat4.fromRotationTranslationScaleOrigin(this.transformationMatrix,this.rotation,this.positionRounded,this.scale,this.origin)}}]),t}();r.default=a},{}]},{},[5]);